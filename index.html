<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Текст</title>
	<script src="diplomKey.js"></script>
	<script src="s-box.js"></script>
	<script src="diplomText.js"></script>
	<link href="style.css" rel="stylesheet">
	<style type="text/css">
		
	</style>
</head>
<body>
	<br>
	
	<div class="areaText">
		<div class="inlin textIn">
			<div id='error1'>Это обязательное поле</div>
			<textarea id="textIn" wrap="soft" rows="10" required placeholder="Введите текст"></textarea>
  	</div>
  	<div class="inlin textOut2">
  	<textarea id="textOut2" wrap="soft"  rows="10" placeholder="Ответ"></textarea>
  	</div>
	</div>

	<br>
	
	<div id="second">
		<div class="collum">
			<div id='error2'>Это обязательное поле</div>
			<input id="password" type="password" maxlength=9 placeholder="Пароль" pattern="[0-9]{3}" size="25">
		</div>
		<div class="collum" id="radio">
			<select id="check">
			  <option>Шифрование</option>
			  <option>Дешифрование</option>
			</select>
		</div>		  
	</div>
	<div class="butt">
		<button id="button" name="im">Нажми меня</button>
	</div>	
<script>

var button = document.getElementById('button');
var elemOut2 = document.getElementById('textOut2');
var inline = document.getElementsByClassName('inlin');

if(screen.width<1024){
	inline[0].style.display = "block";
	inline[1].style.display = "block";
}

  button.onclick = function() {
  	var date = new Date();
  	var elemOut2 = document.getElementById('textOut2');
  	var password = document.getElementById('password');
  	var elemIn = document.getElementById('textIn');
  	var c = document.getElementById('check');
  	c = c.value == "Шифрование" ? false : true; 
  	if(field(elemIn,password))return
  	topKey(password.value);
		elemOut2.value = DES(elemIn.value,c);
		//elemOut2.value = DES(elemIn.value,c) + ' : ' +(new Date()-date);
		//elemOut2.value ='--' + elemIn.value.length;
  			}

  		function field(inn,pass){
  			var error1 = document.getElementById('error1');
		  	var error2 = document.getElementById('error2');
  			error1.style.visibility = 'hidden'
  			if(!inn.value)error1.style.visibility = 'visible';
  			error2.style.visibility = 'hidden'
  			if(!pass.value)error2.style.visibility = 'visible'
  			if(!inn.value||!pass.value)return true;
  		}


</script>

 
</body>